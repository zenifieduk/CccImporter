<script>
  document.addEventListener('DOMContentLoaded', function() {
    // This is the URL of the current club page
    const currentUrl = window.location.pathname;
    
    // Define some fixed club data to use
    const clubOptions = [
      {
        title: 'Alvis Owners Club',
        location: 'Lichfield, Staffordshire',
        category: 'Classic Car Club',
        marque: 'Alvis',
        image: '/assets/images/alvis-owners-club.jpg',
        url: '/club-directory/alvis-owners-club-lichfield/'
      },
      {
        title: 'Classic Car Club London',
        location: 'London',
        category: 'Classic Car Club',
        marque: 'Various',
        image: '/assets/images/classic-car-club-london.jpg',
        url: '/club-directory/classic-car-club-london/'
      },
      {
        title: 'Ford Classic and Capri Owners Club',
        location: 'Colchester, Essex',
        category: 'Classic Car Club',
        marque: 'Ford',
        image: '/assets/images/ford-classic-capri.jpg',
        url: '/club-directory/ford-classic-and-capri-owners-club-colchester/'
      },
      {
        title: 'Range Rover Register',
        location: 'Cranleigh, Surrey',
        category: 'Classic Car Club',
        marque: 'Range Rover',
        image: '/assets/images/range-rover-register.jpg',
        url: '/club-directory/range-rover-register-cranleigh/'
      },
      {
        title: 'Vintage Hot Rod Association',
        location: 'Colchester, Essex',
        category: 'Hot Rod Club',
        marque: 'Hot Rod',
        image: '/assets/images/vintage-hotrod-association.jpg',
        url: '/club-directory/vintage-hot-rod-association-colchester/'
      },
      {
        title: 'Rover P5 Owners Club',
        location: 'Ashford',
        category: 'Classic Car Club',
        marque: 'Rover',
        image: '/assets/images/rover-p5-club.jpg',
        url: '/club-directory/rover-p5-owners-club-ashford/'
      }
    ];
    
    // Select clubs that don't match the current URL
    let relatedClubs = clubOptions.filter(club => !currentUrl.includes(club.url));
    
    // Shuffle the array to get random clubs each time
    relatedClubs = relatedClubs.sort(() => 0.5 - Math.random());
    
    // Select the first 3 clubs
    relatedClubs = relatedClubs.slice(0, 3);
    
    // Reference to the container
    const clubGridContainer = document.getElementById('related-clubs-container');
    
    // Clear any existing content (just in case)
    clubGridContainer.innerHTML = '';
    
    // Create the grid
    const clubGrid = document.createElement('div');
    clubGrid.classList.add('club-grid');
    
    // Generate HTML for each club
    relatedClubs.forEach(club => {
      const clubCard = document.createElement('div');
      clubCard.classList.add('club-card');
      clubCard.innerHTML = `
        <div class="club-featured">Featured</div>
        <div class="club-image">
          <img src="${club.image}" alt="${club.title}">
        </div>
        <div class="club-content">
          <h3 class="club-title">${club.title}</h3>
          <div class="club-location" style="margin-top: 8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px;">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span>${club.location}</span>
          </div>
          <div class="club-category" style="margin-top: 8px;">
            <span class="category-tag">${club.category}</span>
            <span class="category-tag">${club.marque}</span>
          </div>
        </div>
        <div class="club-actions">
          <a href="${club.url}" class="button button-primary">View Details</a>
        </div>
      `;
      clubGrid.appendChild(clubCard);
    });
    
    // Add the grid to the container
    clubGridContainer.appendChild(clubGrid);
  });
</script>

<div id="related-clubs-container">
  <!-- Content will be dynamically populated by JavaScript -->
  <noscript>
    <!-- Fallback for when JavaScript is disabled -->
    <div class="club-grid">
      <div class="club-card">
        <div class="club-featured">Featured</div>
        <div class="club-image">
          <img src="/assets/images/alvis-owners-club.jpg" alt="Alvis Owners Club">
        </div>
        <div class="club-content">
          <h3 class="club-title">Alvis Owners Club</h3>
          <div class="club-location" style="margin-top: 8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px;">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span>Lichfield, Staffordshire</span>
          </div>
          <div class="club-category" style="margin-top: 8px;">
            <span class="category-tag">Classic Car Club</span>
            <span class="category-tag">Alvis</span>
          </div>
        </div>
        <div class="club-actions">
          <a href="/club-directory/alvis-owners-club-lichfield/" class="button button-primary">View Details</a>
        </div>
      </div>
      
      <div class="club-card">
        <div class="club-featured">Featured</div>
        <div class="club-image">
          <img src="/assets/images/classic-car-club-london.jpg" alt="Classic Car Club London">
        </div>
        <div class="club-content">
          <h3 class="club-title">Classic Car Club London</h3>
          <div class="club-location" style="margin-top: 8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px;">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span>London</span>
          </div>
          <div class="club-category" style="margin-top: 8px;">
            <span class="category-tag">Classic Car Club</span>
            <span class="category-tag">Various</span>
          </div>
        </div>
        <div class="club-actions">
          <a href="/club-directory/classic-car-club-london/" class="button button-primary">View Details</a>
        </div>
      </div>
      
      <div class="club-card">
        <div class="club-featured">Featured</div>
        <div class="club-image">
          <img src="/assets/images/ford-classic-capri.jpg" alt="Ford Classic and Capri Owners Club">
        </div>
        <div class="club-content">
          <h3 class="club-title">Ford Classic and Capri Owners Club</h3>
          <div class="club-location" style="margin-top: 8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px;">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span>Colchester, Essex</span>
          </div>
          <div class="club-category" style="margin-top: 8px;">
            <span class="category-tag">Classic Car Club</span>
            <span class="category-tag">Ford</span>
          </div>
        </div>
        <div class="club-actions">
          <a href="/club-directory/ford-classic-and-capri-owners-club-colchester/" class="button button-primary">View Details</a>
        </div>
      </div>
    </div>
  </noscript>
</div>